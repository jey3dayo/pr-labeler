# Release Command - è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

GitHub Actionãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒªãƒªãƒ¼ã‚¹ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

## ğŸ¯ æ©Ÿèƒ½

- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³è‡ªå‹•è¨ˆç®—**: Semantic Versioningã«å¾“ã£ãŸè‡ªå‹•ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
- **ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯**: lint/test/build ã®è‡ªå‹•å®Ÿè¡Œ
- **CHANGELOGè‡ªå‹•æ›´æ–°**: å¤‰æ›´å†…å®¹ã®è‡ªå‹•æŠ½å‡ºã¨æ•´å½¢
- **ã‚¿ã‚°è‡ªå‹•ç®¡ç†**: vX.Y.Z ã¨ vãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã®è‡ªå‹•ä½œæˆãƒ»æ›´æ–°
- **GitHub Releaseä½œæˆ**: ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã®è‡ªå‹•ç”Ÿæˆ
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œ**: ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

## ä½¿ç”¨æ–¹æ³•

```bash
# ãƒ‘ãƒƒãƒãƒªãƒªãƒ¼ã‚¹ (v1.0.1 â†’ v1.0.2)
/release patch

# ãƒã‚¤ãƒŠãƒ¼ãƒªãƒªãƒ¼ã‚¹ (v1.0.1 â†’ v1.1.0)
/release minor

# ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒªãƒªãƒ¼ã‚¹ (v1.0.1 â†’ v2.0.0)
/release major

# ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ï¼ˆå®Ÿè¡Œã›ãšç¢ºèªã®ã¿ï¼‰
/release patch --dry-run

# è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ãªã—ï¼ˆæ‰‹å‹•åˆ¶å¾¡ï¼‰
/release minor --no-push
```

## ğŸ“‹ å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

### Phase 1: ç¾çŠ¶ç¢ºèªã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨ˆç®—

1. ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾— (`package.json`, `git tag`)
2. æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨ˆç®—
3. ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çŠ¶æ…‹ç¢ºèªï¼ˆæœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ã®ãƒã‚§ãƒƒã‚¯ï¼‰

**å‡ºåŠ›ä¾‹:**

```
ğŸ“Š ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v1.0.1
ğŸ¯ æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v1.0.2
ğŸ“ å¤‰æ›´ã‚¿ã‚¤ãƒ—: PATCH
```

### Phase 2: ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯

è‡ªå‹•çš„ã«ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```bash
pnpm lint        # ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯
pnpm type-check  # TypeScriptå‹ãƒã‚§ãƒƒã‚¯
pnpm test        # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm build       # ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
```

**ã„ãšã‚Œã‹1ã¤ã§ã‚‚å¤±æ•—ã—ãŸå ´åˆã€ãƒªãƒªãƒ¼ã‚¹ã‚’ä¸­æ­¢ã—ã¾ã™ã€‚**

### Phase 3: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

1. **package.json ã®æ›´æ–°**
   - `version` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°

2. **CHANGELOG.md ã®æ›´æ–°**
   - æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªã‚’å…ˆé ­ã«è¿½åŠ 
   - ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’è‡ªå‹•è¨­å®š
   - æœ€è¿‘ã®ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰å¤‰æ›´å†…å®¹ã‚’è‡ªå‹•æŠ½å‡º

**CHANGELOG.md ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯:**

```markdown
## [X.Y.Z] - YYYY-MM-DD

### Added
- feat: ã§å§‹ã¾ã‚‹ã‚³ãƒŸãƒƒãƒˆ

### Changed
- refactor: ã§å§‹ã¾ã‚‹ã‚³ãƒŸãƒƒãƒˆ

### Fixed
- fix: ã§å§‹ã¾ã‚‹ã‚³ãƒŸãƒƒãƒˆ

### Other
- ãã®ä»–ã®ã‚³ãƒŸãƒƒãƒˆ

[X.Y.Z]: https://github.com/USER/REPO/releases/tag/vX.Y.Z
```

### Phase 4: Gitæ“ä½œ

1. **å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ**

   ```bash
   git add package.json CHANGELOG.md dist/
   git commit -m "chore: release vX.Y.Z"
   ```

2. **ã‚¿ã‚°ä½œæˆ**

   ```bash
   # å…·ä½“çš„ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°
   git tag -a vX.Y.Z -m "Release vX.Y.Z"

   # ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã®æ›´æ–°ï¼ˆé‡è¦ï¼ï¼‰
   git tag -f vX vX.Y.Z^{}
   ```

3. **ãƒ—ãƒƒã‚·ãƒ¥**
   ```bash
   git push origin main
   git push origin vX.Y.Z
   git push origin vX --force
   ```

### Phase 5: GitHub Releaseä½œæˆ

GitHub CLI (`gh`) ã‚’ä½¿ç”¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã‚’ä½œæˆï¼š

```bash
gh release create vX.Y.Z \
  --title "vX.Y.Z" \
  --notes "CHANGELOG.mdã‹ã‚‰æŠ½å‡ºã—ãŸãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ"
```

**ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆå†…å®¹:**

- CHANGELOG.md ã®è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³
- Breaking ChangesãŒã‚ã‚Œã°å¼·èª¿è¡¨ç¤º
- ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼æƒ…å ±ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰

## ğŸ›¡ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯å¤±æ•—æ™‚

```
âŒ ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯ã«å¤±æ•—ã—ã¾ã—ãŸ

å¤±æ•—é …ç›®:
- pnpm test: 3 tests failed

å¯¾å‡¦æ–¹æ³•:
1. ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£ã—ã¦ãã ã•ã„
2. ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒæˆåŠŸã—ãŸã‚‰å†å®Ÿè¡Œã—ã¦ãã ã•ã„
```

**å®Ÿè¡Œå†…å®¹:**

- ä½•ã‚‚å¤‰æ›´ã›ãšã«çµ‚äº†
- ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯å…ƒã®çŠ¶æ…‹ã‚’ç¶­æŒ

### ã‚¿ã‚°ä½œæˆå¤±æ•—æ™‚

```
âŒ ã‚¿ã‚° vX.Y.Z ãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™

å¯¾å‡¦æ–¹æ³•:
1. æ—¢å­˜ã‚¿ã‚°ã‚’å‰Šé™¤ã™ã‚‹å ´åˆ:
   git tag -d vX.Y.Z
   git push origin :refs/tags/vX.Y.Z

2. åˆ¥ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹å ´åˆ:
   /release patch --next
```

**å®Ÿè¡Œå†…å®¹:**

- ã‚³ãƒŸãƒƒãƒˆã¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- package.json, CHANGELOG.md ã¯å…ƒã«æˆ»ã™

### ãƒ—ãƒƒã‚·ãƒ¥å¤±æ•—æ™‚

```
âš ï¸ ãƒ—ãƒƒã‚·ãƒ¥ã«å¤±æ•—ã—ã¾ã—ãŸ

ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹:
- âœ… ã‚³ãƒŸãƒƒãƒˆä½œæˆæ¸ˆã¿
- âœ… ã‚¿ã‚°ä½œæˆæ¸ˆã¿
- âŒ ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒƒã‚·ãƒ¥å¤±æ•—

å¯¾å‡¦æ–¹æ³•:
1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª
2. æ‰‹å‹•ã§ãƒ—ãƒƒã‚·ãƒ¥:
   git push origin main
   git push origin vX.Y.Z vX --force

ã¾ãŸã¯ã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯:
   git reset --hard HEAD~1
   git tag -d vX.Y.Z vX
```

## ğŸ”§ ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### `--dry-run`

å®Ÿéš›ã«ã¯å¤‰æ›´ã›ãšã€å®Ÿè¡Œå†…å®¹ã®ã¿ã‚’è¡¨ç¤ºï¼š

```bash
/release patch --dry-run
```

**å‡ºåŠ›ä¾‹:**

```
ğŸ” ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ãƒ¢ãƒ¼ãƒ‰ï¼ˆå®Ÿéš›ã«ã¯å¤‰æ›´ã—ã¾ã›ã‚“ï¼‰

å®Ÿè¡Œäºˆå®šã®æ“ä½œ:
1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°: v1.0.1 â†’ v1.0.2
2. package.json æ›´æ–°
3. CHANGELOG.md æ›´æ–°
4. ã‚³ãƒŸãƒƒãƒˆä½œæˆ: "chore: release v1.0.2"
5. ã‚¿ã‚°ä½œæˆ: v1.0.2, v1
6. ãƒ—ãƒƒã‚·ãƒ¥: main, v1.0.2, v1
7. GitHub Releaseä½œæˆ
```

### `--no-push`

ã‚³ãƒŸãƒƒãƒˆãƒ»ã‚¿ã‚°ä½œæˆã¾ã§å®Ÿè¡Œã—ã€ãƒ—ãƒƒã‚·ãƒ¥ã¯æ‰‹å‹•ã§è¡Œã†ï¼š

```bash
/release minor --no-push
```

**å®Ÿè¡Œå†…å®¹:**

- âœ… ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯
- âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- âœ… ã‚³ãƒŸãƒƒãƒˆä½œæˆ
- âœ… ã‚¿ã‚°ä½œæˆ
- â¸ï¸ ãƒ—ãƒƒã‚·ãƒ¥ã¯ã‚¹ã‚­ãƒƒãƒ—

**æ‰‹å‹•ãƒ—ãƒƒã‚·ãƒ¥:**

```bash
git push origin main
git push origin vX.Y.Z vX --force
gh release create vX.Y.Z
```

### `--skip-checks`

ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆéæ¨å¥¨ï¼‰ï¼š

```bash
/release patch --skip-checks
```

**è­¦å‘Š:**

```
âš ï¸ ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™
å“è³ªä¿è¨¼ãŒè¡Œã‚ã‚Œã¦ã„ãªã„ãŸã‚ã€æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨ã¯æ¨å¥¨ã•ã‚Œã¾ã›ã‚“ã€‚
```

### `--force`

æ—¢å­˜ã‚¿ã‚°ã‚’å¼·åˆ¶çš„ã«ä¸Šæ›¸ãï¼š

```bash
/release patch --force
```

**å‹•ä½œ:**

- æ—¢å­˜ã® vX.Y.Z ã‚¿ã‚°ã‚’å‰Šé™¤
- æ–°ã—ã„ã‚¿ã‚°ã‚’ä½œæˆ
- ãƒªãƒ¢ãƒ¼ãƒˆã«å¼·åˆ¶ãƒ—ãƒƒã‚·ãƒ¥

## ğŸ“š å®Ÿè£…è©³ç´°

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

```python
def calculate_next_version(current: str, bump_type: str) -> str:
    """
    ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰æ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨ˆç®—

    Args:
        current: ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ (e.g., "1.0.1")
        bump_type: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚¤ãƒ— ("patch" | "minor" | "major")

    Returns:
        æ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ (e.g., "1.0.2")
    """
    major, minor, patch = map(int, current.lstrip('v').split('.'))

    if bump_type == "major":
        return f"{major + 1}.0.0"
    elif bump_type == "minor":
        return f"{major}.{minor + 1}.0"
    else:  # patch
        return f"{major}.{minor}.{patch + 1}"
```

### CHANGELOGç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯

```python
def generate_changelog_entry(from_version: str, to_version: str) -> str:
    """
    å‰å›ãƒªãƒªãƒ¼ã‚¹ã‹ã‚‰ã®ã‚³ãƒŸãƒƒãƒˆã‚’è§£æã—ã¦CHANGELOGã‚¨ãƒ³ãƒˆãƒªã‚’ç”Ÿæˆ
    """
    # å‰å›ã‚¿ã‚°ã‹ã‚‰ç¾åœ¨ã¾ã§ã®ã‚³ãƒŸãƒƒãƒˆå–å¾—
    commits = git.log(f"v{from_version}..HEAD", format="%s")

    # ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†é¡
    added = [c for c in commits if c.startswith("feat:")]
    changed = [c for c in commits if c.startswith("refactor:")]
    fixed = [c for c in commits if c.startswith("fix:")]
    other = [c for c in commits if not any(c.startswith(p) for p in ["feat:", "fix:", "refactor:"])]

    # Markdownã‚¨ãƒ³ãƒˆãƒªç”Ÿæˆ
    entry = f"## [{to_version}] - {today()}\n\n"

    if added:
        entry += "### Added\n"
        for commit in added:
            entry += f"- {commit.removeprefix('feat:').strip()}\n"
        entry += "\n"

    if changed:
        entry += "### Changed\n"
        for commit in changed:
            entry += f"- {commit.removeprefix('refactor:').strip()}\n"
        entry += "\n"

    if fixed:
        entry += "### Fixed\n"
        for commit in fixed:
            entry += f"- {commit.removeprefix('fix:').strip()}\n"
        entry += "\n"

    return entry
```

### ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°æ›´æ–°

```python
def update_major_version_tag(version: str):
    """
    vX.Y.Z ã‹ã‚‰ vX ã‚¿ã‚°ã‚’ä½œæˆãƒ»æ›´æ–°

    ä¾‹: v1.2.3 â†’ v1 ã‚¿ã‚°ã‚’ v1.2.3 ã®ã‚³ãƒŸãƒƒãƒˆã«å‘ã‘ã‚‹
    """
    major = version.split('.')[0]  # "v1"

    # æ—¢å­˜ã®vXã‚¿ã‚°ã‚’å‰Šé™¤
    if tag_exists(major):
        git.tag("-d", major)
        git.push("origin", f":refs/tags/{major}")

    # æ–°ã—ã„vXã‚¿ã‚°ã‚’ä½œæˆï¼ˆlightweight tagï¼‰
    git.tag(major, f"{version}^{{}}")

    # å¼·åˆ¶ãƒ—ãƒƒã‚·ãƒ¥
    git.push("origin", major, "--force")
```

## ğŸ¯ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. å®šæœŸçš„ãªãƒªãƒªãƒ¼ã‚¹

```bash
# ãƒ‘ãƒƒãƒãƒªãƒªãƒ¼ã‚¹ï¼ˆãƒã‚°ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼‰: å³åº§ã«
/release patch

# ãƒã‚¤ãƒŠãƒ¼ãƒªãƒªãƒ¼ã‚¹ï¼ˆæ–°æ©Ÿèƒ½ï¼‰: 1-2é€±é–“ã”ã¨
/release minor

# ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒªãƒªãƒ¼ã‚¹ï¼ˆç ´å£Šçš„å¤‰æ›´ï¼‰: æ…é‡ã«ã€äº‹å‰å‘ŠçŸ¥
/release major
```

### 2. ãƒªãƒªãƒ¼ã‚¹å‰ã®ç¢ºèªäº‹é …

```bash
# 1. ã™ã¹ã¦ã®PRãŒãƒãƒ¼ã‚¸æ¸ˆã¿
gh pr list --state open

# 2. mainãƒ–ãƒ©ãƒ³ãƒãŒæœ€æ–°
git pull origin main

# 3. ãƒ­ãƒ¼ã‚«ãƒ«ã«æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ãªã—
git status

# 4. ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒæˆåŠŸ
pnpm test && pnpm lint && pnpm type-check && pnpm build
```

### 3. ãƒªãƒªãƒ¼ã‚¹å¾Œã®ç¢ºèª

```bash
# 1. GitHub ReleaseãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹
gh release view vX.Y.Z

# 2. ã‚¿ã‚°ãŒæ­£ã—ã„ã‹
git tag -l "v*" | sort -V | tail -5

# 3. CIãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹
gh run list --branch main --limit 3
```

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: `pnpm test` ãŒå¤±æ•—ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã§ããªã„

**A:** ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰å†å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm test

# å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã®ã¿å†å®Ÿè¡Œ
pnpm test -- path/to/failing-test.ts

# ä¿®æ­£å¾Œã€å†åº¦ãƒªãƒªãƒ¼ã‚¹
/release patch
```

### Q: ã‚¿ã‚°ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹

**A:** æ—¢å­˜ã‚¿ã‚°ã‚’å‰Šé™¤ã™ã‚‹ã‹ã€`--force` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ï¼š

```bash
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: æ—¢å­˜ã‚¿ã‚°ã‚’å‰Šé™¤
git tag -d v1.0.2
git push origin :refs/tags/v1.0.2

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: å¼·åˆ¶ä¸Šæ›¸ã
/release patch --force
```

### Q: GitHub Releaseã®ä½œæˆã«å¤±æ•—ã—ãŸ

**A:** GitHub CLIã®èªè¨¼ã‚’ç¢ºèªï¼š

```bash
# èªè¨¼çŠ¶æ…‹ç¢ºèª
gh auth status

# å†èªè¨¼
gh auth login

# æ‰‹å‹•ã§ãƒªãƒªãƒ¼ã‚¹ä½œæˆ
gh release create v1.0.2 --title "v1.0.2" --notes "..."
```

### Q: ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ã§ç¢ºèªã—ãŸã„

**A:** `--dry-run` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ï¼š

```bash
/release patch --dry-run
```

## ğŸ“ é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [docs/release-process.md](../docs/release-process.md) - æ‰‹å‹•ãƒªãƒªãƒ¼ã‚¹æ‰‹é †
- [CHANGELOG.md](../CHANGELOG.md) - ãƒªãƒªãƒ¼ã‚¹å±¥æ­´
- [Semantic Versioning](https://semver.org/) - ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°è¦ç´„

---

## å®Ÿè£…ã‚³ãƒãƒ³ãƒ‰

ã‚ãªãŸã¯ `/release` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚

**æ‰‹é †:**

1. **ç¾çŠ¶ç¢ºèª**
   - ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª
   - ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çŠ¶æ…‹ç¢ºèª
   - ãƒ–ãƒ©ãƒ³ãƒç¢ºèªï¼ˆmainãƒ–ãƒ©ãƒ³ãƒã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼‰

2. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ç¢ºèª**
   - å¼•æ•°ã‹ã‚‰ bump_type ã‚’å–å¾— (patch/minor/major)
   - æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨ˆç®—

3. **ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯ï¼ˆ--skip-checks ã§ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ï¼‰**

   ```bash
   pnpm lint && pnpm type-check && pnpm test && pnpm build
   ```

4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**
   - package.json ã® version ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ›´æ–°
   - CHANGELOG.md ã«æ–°ã‚¨ãƒ³ãƒˆãƒªè¿½åŠ ï¼ˆå‰å›ã‚¿ã‚°ã‹ã‚‰ã®ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’åˆ†æï¼‰

5. **ã‚³ãƒŸãƒƒãƒˆä½œæˆ**

   ```bash
   git add package.json CHANGELOG.md dist/
   git commit -m "chore: release vX.Y.Z"
   ```

6. **ã‚¿ã‚°ä½œæˆ**

   ```bash
   # å…·ä½“çš„ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°
   git tag -a vX.Y.Z -m "Release vX.Y.Z"

   # ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã‚’æ›´æ–°
   git tag -f vX vX.Y.Z^{}
   ```

7. **ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆ--no-push ã§ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ï¼‰**

   ```bash
   git push origin main
   git push origin vX.Y.Z
   git push origin vX --force
   ```

8. **GitHub Releaseä½œæˆ**

   ```bash
   gh release create vX.Y.Z \
     --title "vX.Y.Z" \
     --notes "$(extract_changelog_notes vX.Y.Z)"
   ```

9. **å®Œäº†å ±å‘Š**

   ```
   âœ¨ ãƒªãƒªãƒ¼ã‚¹ v1.0.2 ãŒå®Œäº†ã—ã¾ã—ãŸï¼

   ğŸ“¦ ä½œæˆã•ã‚ŒãŸã‚‚ã®:
   - âœ… ã‚³ãƒŸãƒƒãƒˆ: chore: release v1.0.2
   - âœ… ã‚¿ã‚°: v1.0.2, v1
   - âœ… GitHub Release: https://github.com/USER/REPO/releases/tag/v1.0.2

   æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
   1. GitHub Actionsã§ã®ãƒ“ãƒ«ãƒ‰ç¢ºèª
   2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹
   ```

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°:**

å„ã‚¹ãƒ†ãƒƒãƒ—ã§å¤±æ•—ã—ãŸå ´åˆã€é©åˆ‡ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾å‡¦æ–¹æ³•ã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚
